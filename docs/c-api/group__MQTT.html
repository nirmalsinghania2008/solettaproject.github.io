<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Soletta: MQTT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Soletta
   </div>
   <div id="projectbrief">Framework for making IoT devices</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MQTT<div class="ingroups"><a class="el" href="group__Comms.html">Communication Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt.html">sol_mqtt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Object.  <a href="structsol__mqtt.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server Configuration.  <a href="structsol__mqtt__config.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt__handlers.html">sol_mqtt_handlers</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT callback handlers.  <a href="structsol__mqtt__handlers.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT Message.  <a href="structsol__mqtt__message.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab4ca3e13df83d0a379bbb2efc37fac11"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11">sol_mqtt_conn_status</a> { <br/>
&#160;&#160;<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a38d4283ceed5241d465768335cb99841">SOL_MQTT_DISCONNECTED</a> = -1, 
<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a7ab79d8f453865c85060a6c36a724d64">SOL_MQTT_CONNECTED</a> = 0, 
<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11ae55a025b226b4b79acb3f8b5c755c3ad">SOL_MQTT_WRONG_PROTOCOL</a> = 1, 
<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11ae06f91bf3f1ef00165471253dd643e0b">SOL_MQTT_ID_REJECTED</a> = 2, 
<br/>
&#160;&#160;<a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a58c701cdd0e0f62a1d1ab4e0f4411348">SOL_MQTT_UNAVAILABLE</a> = 3
<br/>
 }</td></tr>
<tr class="memdesc:gab4ca3e13df83d0a379bbb2efc37fac11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection status.  <a href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11">More...</a><br/></td></tr>
<tr class="separator:gab4ca3e13df83d0a379bbb2efc37fac11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga32f1d2f2917d78cb4dc37e73382e0115"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a> { <a class="el" href="group__MQTT.html#gga32f1d2f2917d78cb4dc37e73382e0115acef83d80bb3a85a2c66fb2d217d7745b">SOL_MQTT_QOS_AT_MOST_ONCE</a> = 0, 
<a class="el" href="group__MQTT.html#gga32f1d2f2917d78cb4dc37e73382e0115aff74ffe70cd3e5331a038e764569e95f">SOL_MQTT_QOS_AT_LEAST_ONCE</a> = 1, 
<a class="el" href="group__MQTT.html#gga32f1d2f2917d78cb4dc37e73382e0115a33283b291b894dfaf53aa149a0660fe7">SOL_MQTT_QOS_EXACTLY_ONCE</a> = 2
 }</td></tr>
<tr class="memdesc:ga32f1d2f2917d78cb4dc37e73382e0115"><td class="mdescLeft">&#160;</td><td class="mdescRight">MQTT QOS level for message delivery.  <a href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">More...</a><br/></td></tr>
<tr class="separator:ga32f1d2f2917d78cb4dc37e73382e0115"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga50a755582d3ad3ac1c6fd9dd82b5ba0f"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga50a755582d3ad3ac1c6fd9dd82b5ba0f">sol_mqtt_connect</a> (const char *host, int port, const struct <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a> *<a class="el" href="mqtt-subscribe_8c.html#af8ad2fb90ab9daa46f40f12118751b58">config</a>, void *data)</td></tr>
<tr class="memdesc:ga50a755582d3ad3ac1c6fd9dd82b5ba0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a MQTT broker.  <a href="#ga50a755582d3ad3ac1c6fd9dd82b5ba0f">More...</a><br/></td></tr>
<tr class="separator:ga50a755582d3ad3ac1c6fd9dd82b5ba0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8559f8615017d3fb418bd85d777fbb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gab8559f8615017d3fb418bd85d777fbb9">sol_mqtt_disconnect</a> (struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *mqtt)</td></tr>
<tr class="memdesc:gab8559f8615017d3fb418bd85d777fbb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect from MQTT Broker.  <a href="#gab8559f8615017d3fb418bd85d777fbb9">More...</a><br/></td></tr>
<tr class="separator:gab8559f8615017d3fb418bd85d777fbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b44bc46b3a0ef7be8854a5011554bbf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga3b44bc46b3a0ef7be8854a5011554bbf">sol_mqtt_get_connection_status</a> (const struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *mqtt)</td></tr>
<tr class="memdesc:ga3b44bc46b3a0ef7be8854a5011554bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get connection status.  <a href="#ga3b44bc46b3a0ef7be8854a5011554bbf">More...</a><br/></td></tr>
<tr class="separator:ga3b44bc46b3a0ef7be8854a5011554bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa945624a84eb8e537af9094ad37fe47e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#gaa945624a84eb8e537af9094ad37fe47e">sol_mqtt_publish</a> (const struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *mqtt, struct <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a> *message)</td></tr>
<tr class="memdesc:gaa945624a84eb8e537af9094ad37fe47e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the Broker a message to be published in a given topic.  <a href="#gaa945624a84eb8e537af9094ad37fe47e">More...</a><br/></td></tr>
<tr class="separator:gaa945624a84eb8e537af9094ad37fe47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9534f5d474232ae52b6baffa17e15698"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga9534f5d474232ae52b6baffa17e15698">sol_mqtt_reconnect</a> (struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *mqtt)</td></tr>
<tr class="memdesc:ga9534f5d474232ae52b6baffa17e15698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reestablish the connection to the MQTT broker.  <a href="#ga9534f5d474232ae52b6baffa17e15698">More...</a><br/></td></tr>
<tr class="separator:ga9534f5d474232ae52b6baffa17e15698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c9b2fb89f4f1b777e60d8c5d38901a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MQTT.html#ga7c9b2fb89f4f1b777e60d8c5d38901a2">sol_mqtt_subscribe</a> (const struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *mqtt, const char *topic, <a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a> qos)</td></tr>
<tr class="memdesc:ga7c9b2fb89f4f1b777e60d8c5d38901a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask the Broker to be subscribed to a given topic.  <a href="#ga7c9b2fb89f4f1b777e60d8c5d38901a2">More...</a><br/></td></tr>
<tr class="separator:ga7c9b2fb89f4f1b777e60d8c5d38901a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>MQTT is a machine-to-machine (M2M)/"Internet of Things" connectivity protocol. It was designed as an extremely lightweight publish/subscribe messaging transport. It is useful for connections with remote locations where a small code footprint is required and/or network bandwidth is at a premium. For example, it has been used in sensors communicating to a broker via satellite link, over occasional dial-up connections with healthcare providers, and in a range of home automation and small device scenarios. It is also ideal for mobile applications because of its small size, low power usage, minimised data packets, and efficient distribution of information to one or many receivers </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gab4ca3e13df83d0a379bbb2efc37fac11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11">sol_mqtt_conn_status</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connection status. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11a38d4283ceed5241d465768335cb99841"></a>SOL_MQTT_DISCONNECTED</em>&#160;</td><td class="fielddoc">
<p>Disconnected due to unexpected reasons. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11a7ab79d8f453865c85060a6c36a724d64"></a>SOL_MQTT_CONNECTED</em>&#160;</td><td class="fielddoc">
<p>Succesfully conencted to the broker </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11ae55a025b226b4b79acb3f8b5c755c3ad"></a>SOL_MQTT_WRONG_PROTOCOL</em>&#160;</td><td class="fielddoc">
<p>MQTT protocol rejected by the broker </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11ae06f91bf3f1ef00165471253dd643e0b"></a>SOL_MQTT_ID_REJECTED</em>&#160;</td><td class="fielddoc">
<p>Client ID rejected by the broker </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggab4ca3e13df83d0a379bbb2efc37fac11a58c701cdd0e0f62a1d1ab4e0f4411348"></a>SOL_MQTT_UNAVAILABLE</em>&#160;</td><td class="fielddoc">
<p>Broker anavailable at provided host </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga32f1d2f2917d78cb4dc37e73382e0115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MQTT QOS level for message delivery. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga32f1d2f2917d78cb4dc37e73382e0115acef83d80bb3a85a2c66fb2d217d7745b"></a>SOL_MQTT_QOS_AT_MOST_ONCE</em>&#160;</td><td class="fielddoc">
<p>The message is delivered according to the capabilities of the underlying network. No response is sent by the receiver and no retry is performed by the sender. The message arrives at the receiver either once or not at all. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga32f1d2f2917d78cb4dc37e73382e0115aff74ffe70cd3e5331a038e764569e95f"></a>SOL_MQTT_QOS_AT_LEAST_ONCE</em>&#160;</td><td class="fielddoc">
<p>This quality of service ensures that the message arrives at the receiver at least once. A QoS 1 PUBLISH Packet has a Packet Identifier in its variable header and is acknowledged by a PUBACK Packet. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga32f1d2f2917d78cb4dc37e73382e0115a33283b291b894dfaf53aa149a0660fe7"></a>SOL_MQTT_QOS_EXACTLY_ONCE</em>&#160;</td><td class="fielddoc">
<p>This is the highest quality of service, for use when neither loss nor duplication of messages are acceptable. There is an increased overhead associated with this quality of service. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga50a755582d3ad3ac1c6fd9dd82b5ba0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a>* sol_mqtt_connect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structsol__mqtt__config.html">sol_mqtt_config</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a MQTT broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>The host address of the MQTT broker </td></tr>
    <tr><td class="paramname">port</td><td>The host port to connect to </td></tr>
    <tr><td class="paramname">config</td><td>Configuration and callbacks </td></tr>
    <tr><td class="paramname">data</td><td>User data provided to the callbacks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>New mqtt object on sucess, NULL otherwise </dd></dl>

<p>References <a class="el" href="structsol__mqtt__config.html#af7199bdeefe0c56b4dd369e1bd2daa1d">sol_mqtt_config::clean_session</a>, <a class="el" href="structsol__mqtt__config.html#a38037b0f252d54d6e299a2d74a888f91">sol_mqtt_config::client_id</a>, <a class="el" href="structsol__mqtt.html#a93853ae4257ba9e2656a9b14c4098248">sol_mqtt::connection_status</a>, <a class="el" href="structsol__mqtt.html#ab1f7826f26e5ef21e9f295fb067df226">sol_mqtt::data</a>, <a class="el" href="structsol__buffer.html#aaac981af7c4c718378ed3186ef3a2192">sol_buffer::data</a>, <a class="el" href="structsol__mqtt.html#af7a7b769b5a784f39c495451bbb23943">sol_mqtt::handlers</a>, <a class="el" href="structsol__mqtt__config.html#a01f57a82fd3e40ccb17989fe4909dc03">sol_mqtt_config::handlers</a>, <a class="el" href="structsol__mqtt.html#a19cbcce95d85362655c84bfd3447a41a">sol_mqtt::keepalive</a>, <a class="el" href="structsol__mqtt.html#a7c107db859fd1dddf9b252c711c62722">sol_mqtt::mosq</a>, <a class="el" href="sol-mqtt-impl-mosquitto_8c.html#a017cd37853b2bd8389ebf74b9a967bed">MQTT_CHECK_API</a>, <a class="el" href="structsol__mqtt__config.html#a1e44329a294727b271fa13309b56dafc">sol_mqtt_config::password</a>, <a class="el" href="structsol__mqtt__message.html#aa3b59c6c017e1a924900c4253ee802ce">sol_mqtt_message::payload</a>, <a class="el" href="structsol__mqtt__message.html#a75391a4d5e685660e4933f5421aa4138">sol_mqtt_message::qos</a>, <a class="el" href="structsol__mqtt__message.html#a308be7de5c394bc7ec301ce270e6296e">sol_mqtt_message::retain</a>, <a class="el" href="structsol__mqtt.html#acac1d15770c65caad2844a3014621bf0">sol_mqtt::socket_fd</a>, <a class="el" href="structsol__mqtt.html#a3105a9214b55259af270f4123085e4a8">sol_mqtt::socket_watch</a>, <a class="el" href="group__MQTT.html#ggab4ca3e13df83d0a379bbb2efc37fac11a38d4283ceed5241d465768335cb99841">SOL_MQTT_DISCONNECTED</a>, <a class="el" href="group__Log.html#gacb48844cf78438b772f069c089836835">SOL_NULL_CHECK</a>, <a class="el" href="group__Log.html#ga54e82836a0158b537774689043b0fb75">SOL_NULL_CHECK_GOTO</a>, <a class="el" href="group__Log.html#ga5d9529e9746395acc2cd96a28ffa1c28">SOL_WRN</a>, <a class="el" href="structsol__mqtt__message.html#a6b85e1f7614bba545002e3abeccaf4e1">sol_mqtt_message::topic</a>, <a class="el" href="structsol__buffer.html#a50844b0cbc4ae956fd4335537756bfa9">sol_buffer::used</a>, <a class="el" href="structsol__mqtt__config.html#ad7acb3229037bac3b96e472236d66761">sol_mqtt_config::username</a>, and <a class="el" href="structsol__mqtt__config.html#aad2ae6dd7e88eebc2ad3e47c51101814">sol_mqtt_config::will</a>.</p>

<p>Referenced by <a class="el" href="mqtt-publish_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="gab8559f8615017d3fb418bd85d777fbb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sol_mqtt_disconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect from MQTT Broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object;</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__MQTT.html#ga50a755582d3ad3ac1c6fd9dd82b5ba0f" title="Connect to a MQTT broker. ">sol_mqtt_connect</a></dd></dl>
<p>Terminate the connection to the broker and free the resources associated to the mqtt object. </p>

<p>References <a class="el" href="sol-mqtt-impl-mosquitto_8c.html#a88e273939db374855178ba74f82e6aa2">CHECK_INIT</a>, <a class="el" href="structsol__mqtt.html#ac1d5a71d7e53027f57355f8e309ad151">sol_mqtt::connect_timeout</a>, <a class="el" href="structsol__mqtt.html#a4f19b7fb95ed58530b32b02b252ce9aa">sol_mqtt::disconnect_timeout</a>, <a class="el" href="structsol__mqtt.html#a6ffbf3fa2248f486dc365ced854c3e0b">sol_mqtt::message_timeout</a>, <a class="el" href="structsol__mqtt.html#a7c107db859fd1dddf9b252c711c62722">sol_mqtt::mosq</a>, <a class="el" href="structsol__mqtt.html#a484482a08b2da65c327cfa0c63e49b7f">sol_mqtt::publish_timeout</a>, <a class="el" href="structsol__mqtt.html#a3105a9214b55259af270f4123085e4a8">sol_mqtt::socket_watch</a>, <a class="el" href="group__Log.html#gacb48844cf78438b772f069c089836835">SOL_NULL_CHECK</a>, <a class="el" href="group__Mainloop.html#gae1f45ba3de62603e90903d1214cf834f">sol_timeout_del()</a>, <a class="el" href="structsol__mqtt.html#a143742a09b7d060d7a62eda81181128c">sol_mqtt::subscribe_timeout</a>, and <a class="el" href="structsol__mqtt.html#a722c660ced3333a3b1907a18eb6d7ef6">sol_mqtt::unsubscribe_timeout</a>.</p>

<p>Referenced by <a class="el" href="mqtt-publish_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b44bc46b3a0ef7be8854a5011554bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_get_connection_status </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get connection status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MQTT</td><td>Object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__MQTT.html#gab4ca3e13df83d0a379bbb2efc37fac11" title="Connection status. ">sol_mqtt_conn_status</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>sol_mqtt_conn_status code </dd></dl>

<p>References <a class="el" href="structsol__mqtt.html#a93853ae4257ba9e2656a9b14c4098248">sol_mqtt::connection_status</a>, and <a class="el" href="group__Log.html#gacb48844cf78438b772f069c089836835">SOL_NULL_CHECK</a>.</p>

</div>
</div>
<a class="anchor" id="gaa945624a84eb8e537af9094ad37fe47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_publish </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structsol__mqtt__message.html">sol_mqtt_message</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the Broker a message to be published in a given topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object </td></tr>
    <tr><td class="paramname">message</td><td>Message to be published. The memory associated to this object should be handled by the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL otherwise </dd></dl>

<p>References <a class="el" href="sol-mqtt-impl-mosquitto_8c.html#a88e273939db374855178ba74f82e6aa2">CHECK_INIT</a>, <a class="el" href="structsol__buffer.html#aaac981af7c4c718378ed3186ef3a2192">sol_buffer::data</a>, <a class="el" href="structsol__mqtt__message.html#ab19e982df900bdf3e9506e18d94a4065">sol_mqtt_message::id</a>, <a class="el" href="structsol__mqtt.html#a7c107db859fd1dddf9b252c711c62722">sol_mqtt::mosq</a>, <a class="el" href="structsol__mqtt__message.html#aa3b59c6c017e1a924900c4253ee802ce">sol_mqtt_message::payload</a>, <a class="el" href="structsol__mqtt__message.html#a75391a4d5e685660e4933f5421aa4138">sol_mqtt_message::qos</a>, <a class="el" href="structsol__mqtt__message.html#a308be7de5c394bc7ec301ce270e6296e">sol_mqtt_message::retain</a>, <a class="el" href="structsol__mqtt.html#a3105a9214b55259af270f4123085e4a8">sol_mqtt::socket_watch</a>, <a class="el" href="group__Log.html#gacb48844cf78438b772f069c089836835">SOL_NULL_CHECK</a>, <a class="el" href="group__Log.html#ga5d9529e9746395acc2cd96a28ffa1c28">SOL_WRN</a>, <a class="el" href="structsol__mqtt__message.html#a6b85e1f7614bba545002e3abeccaf4e1">sol_mqtt_message::topic</a>, and <a class="el" href="structsol__buffer.html#a50844b0cbc4ae956fd4335537756bfa9">sol_buffer::used</a>.</p>

</div>
</div>
<a class="anchor" id="ga9534f5d474232ae52b6baffa17e15698"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_reconnect </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reestablish the connection to the MQTT broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL otherwise </dd></dl>

<p>References <a class="el" href="structsol__mqtt.html#a7c107db859fd1dddf9b252c711c62722">sol_mqtt::mosq</a>, <a class="el" href="structsol__mqtt.html#acac1d15770c65caad2844a3014621bf0">sol_mqtt::socket_fd</a>, <a class="el" href="structsol__mqtt.html#a3105a9214b55259af270f4123085e4a8">sol_mqtt::socket_watch</a>, <a class="el" href="group__Log.html#gacb48844cf78438b772f069c089836835">SOL_NULL_CHECK</a>, and <a class="el" href="group__Log.html#ga5d9529e9746395acc2cd96a28ffa1c28">SOL_WRN</a>.</p>

</div>
</div>
<a class="anchor" id="ga7c9b2fb89f4f1b777e60d8c5d38901a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sol_mqtt_subscribe </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structsol__mqtt.html">sol_mqtt</a> *&#160;</td>
          <td class="paramname"><em>mqtt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__MQTT.html#ga32f1d2f2917d78cb4dc37e73382e0115">sol_mqtt_qos</a>&#160;</td>
          <td class="paramname"><em>qos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask the Broker to be subscribed to a given topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mqtt</td><td>MQTT Object </td></tr>
    <tr><td class="paramname">topic</td><td>Null terminated string with the topic to subscribe to </td></tr>
    <tr><td class="paramname">qos</td><td>MQTT QOS that should be used by the subscribe message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL otherwise </dd></dl>

<p>References <a class="el" href="sol-mqtt-impl-mosquitto_8c.html#a88e273939db374855178ba74f82e6aa2">CHECK_INIT</a>, <a class="el" href="structsol__mqtt.html#a7c107db859fd1dddf9b252c711c62722">sol_mqtt::mosq</a>, <a class="el" href="group__Log.html#gacb48844cf78438b772f069c089836835">SOL_NULL_CHECK</a>, and <a class="el" href="group__Log.html#ga5d9529e9746395acc2cd96a28ffa1c28">SOL_WRN</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
